"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fetchCategoryList = fetchCategoryList;
exports.fetchItemDetail = fetchItemDetail;
exports.fetchItemList = fetchItemList;
exports.modifyItem = modifyItem;
exports.saveCategory = saveCategory;
exports.saveItem = saveItem;
var _mallItem = _interopRequireDefault(require("@global-common/db/model/mall-item"));
var _category = _interopRequireDefault(require("@global-common/db/model/category"));
var _httpError = require("@global-common/error/http-error");
var _itemCategory = _interopRequireDefault(require("@global-common/db/model/item-category"));
var _logger = require("@global-common/utils/logger");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const logger = (0, _logger.getLogger)('mall-controller.ts');
async function saveCategory(name) {
  const category = await (0, _category.default)().findOne({
    where: {
      name
    }
  });
  if (category) throw new _httpError.BadRequest(_httpError.ALREADY_EXISTS, '이미 존재하는 카테고리입니다.');
  await (0, _category.default)().create({
    name
  });
}
async function saveItem(param, file) {
  const {
    categoryId,
    name,
    price,
    description
  } = param;
  const category = await (0, _category.default)().findOne({
    where: {
      id: categoryId
    }
  });
  if (!category) throw new _httpError.BadRequest(_httpError.NO_DATA, '존재하지 않는 카테고리입니다.');
  const item = await (0, _mallItem.default)().create({
    name,
    price,
    description
  });
  const itemId = item.id;
  logger.info(`itemId: ${itemId}`);
  const itemCategory = await (0, _itemCategory.default)().findOne({
    where: {
      mallItemId: itemId,
      categoryId
    }
  });
  if (!itemCategory) {
    await (0, _itemCategory.default)().create({
      mallItemId: itemId,
      categoryId
    });
  }
  if (!file) throw new _httpError.BadRequest(_httpError.NO_DATA, '이미지 파일이 없습니다.');
  const fileName = file.filename;
  await item.update({
    image: fileName
  });
}
async function fetchItemList(param) {
  const {
    categoryId,
    page
  } = param;
  const where = {};
  if (categoryId) where.categoryId = categoryId;
  if (page) {
    where.offset = (page - 1) * 10;
    where.limit = 10;
  }
  const {
    count,
    rows
  } = await (0, _mallItem.default)().findAndCountAll({
    attributes: ['id', 'name', 'price', 'description', 'image'],
    where,
    orderBy: [['id', 'DESC']],
    include: {
      model: (0, _itemCategory.default)(),
      attributes: ['id'],
      include: {
        model: (0, _category.default)(),
        attributes: ['name']
      }
    }
  });
  const items = rows.map(row => {
    row.image = row.image ? `https://api.mybebe.net/uploads/images/${row.image}` : null;
    return row;
  });
  return {
    count,
    items
  };
}
async function fetchCategoryList() {
  return (0, _category.default)().findAll({
    attributes: ['id', 'name']
  });
}
async function fetchItemDetail(id) {
  const item = await (0, _mallItem.default)().findOne({
    where: {
      id
    },
    include: {
      model: (0, _itemCategory.default)(),
      attributes: ['id'],
      include: {
        model: (0, _category.default)(),
        attributes: ['name']
      }
    }
  });
  if (!item) throw new _httpError.BadRequest(_httpError.NO_DATA, '존재하지 않는 상품입니다.');
  item.image = item.image ? `https://api.mybebe.net/uploads/images/${item.image}` : null;
  return item;
}
async function modifyItem(param) {
  const {
    id
  } = param;
  const item = await (0, _mallItem.default)().findOne({
    where: {
      id
    }
  });
  if (!item) throw new _httpError.BadRequest(_httpError.NO_DATA, '존재하지 않는 상품입니다.');
  await item.update({
    ...param
  });
  const itemCategory = await (0, _itemCategory.default)().findOne({
    where: {
      mallItemId: id
    }
  });
  await itemCategory.update({
    categoryId: param.categoryId
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZXIiLCJnZXRMb2dnZXIiLCJzYXZlQ2F0ZWdvcnkiLCJuYW1lIiwiY2F0ZWdvcnkiLCJDYXRlZ29yeSIsImZpbmRPbmUiLCJ3aGVyZSIsIkJhZFJlcXVlc3QiLCJBTFJFQURZX0VYSVNUUyIsImNyZWF0ZSIsInNhdmVJdGVtIiwicGFyYW0iLCJmaWxlIiwiY2F0ZWdvcnlJZCIsInByaWNlIiwiZGVzY3JpcHRpb24iLCJpZCIsIk5PX0RBVEEiLCJpdGVtIiwiTWFsbEl0ZW0iLCJpdGVtSWQiLCJpbmZvIiwiaXRlbUNhdGVnb3J5IiwiSXRlbUNhdGVnb3J5IiwibWFsbEl0ZW1JZCIsImZpbGVOYW1lIiwiZmlsZW5hbWUiLCJ1cGRhdGUiLCJpbWFnZSIsImZldGNoSXRlbUxpc3QiLCJwYWdlIiwib2Zmc2V0IiwibGltaXQiLCJjb3VudCIsInJvd3MiLCJmaW5kQW5kQ291bnRBbGwiLCJhdHRyaWJ1dGVzIiwib3JkZXJCeSIsImluY2x1ZGUiLCJtb2RlbCIsIml0ZW1zIiwibWFwIiwicm93IiwiZmV0Y2hDYXRlZ29yeUxpc3QiLCJmaW5kQWxsIiwiZmV0Y2hJdGVtRGV0YWlsIiwibW9kaWZ5SXRlbSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kaWFyeS1zZXJ2ZXIvY29udHJvbGxlci9tYWxsLWNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hbGxJdGVtIGZyb20gJ0BnbG9iYWwtY29tbW9uL2RiL21vZGVsL21hbGwtaXRlbSdcclxuaW1wb3J0IENhdGVnb3J5IGZyb20gJ0BnbG9iYWwtY29tbW9uL2RiL21vZGVsL2NhdGVnb3J5J1xyXG5pbXBvcnQgeyBBTFJFQURZX0VYSVNUUywgQmFkUmVxdWVzdCwgTk9fREFUQSB9IGZyb20gJ0BnbG9iYWwtY29tbW9uL2Vycm9yL2h0dHAtZXJyb3InXHJcbmltcG9ydCBJdGVtQ2F0ZWdvcnkgZnJvbSAnQGdsb2JhbC1jb21tb24vZGIvbW9kZWwvaXRlbS1jYXRlZ29yeSdcclxuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnQGdsb2JhbC1jb21tb24vdXRpbHMvbG9nZ2VyJ1xyXG5cclxuY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKCdtYWxsLWNvbnRyb2xsZXIudHMnKVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVDYXRlZ29yeSAobmFtZTogc3RyaW5nKSB7XHJcbiAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeSgpLmZpbmRPbmUoeyB3aGVyZTogeyBuYW1lIH0gfSlcclxuXHJcbiAgaWYgKGNhdGVnb3J5KSB0aHJvdyBuZXcgQmFkUmVxdWVzdChBTFJFQURZX0VYSVNUUywgJ+ydtOuvuCDsobTsnqztlZjripQg7Lm07YWM6rOg66as7J6F64uI64ukLicpXHJcblxyXG4gIGF3YWl0IENhdGVnb3J5KCkuY3JlYXRlKHsgbmFtZSB9KVxyXG59XHJcblxyXG5pbnRlcmZhY2UgaXRlbVBhcmFtIHtcclxuICBjYXRlZ29yeUlkOiBudW1iZXJcclxuICBuYW1lOiBzdHJpbmdcclxuICBwcmljZTogbnVtYmVyXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlSXRlbSAocGFyYW06IGl0ZW1QYXJhbSwgZmlsZSkge1xyXG4gIGNvbnN0IHsgY2F0ZWdvcnlJZCwgbmFtZSwgcHJpY2UsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbVxyXG5cclxuICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5KCkuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiBjYXRlZ29yeUlkIH0gfSlcclxuXHJcbiAgaWYgKCFjYXRlZ29yeSkgdGhyb3cgbmV3IEJhZFJlcXVlc3QoTk9fREFUQSwgJ+yhtOyerO2VmOyngCDslYrripQg7Lm07YWM6rOg66as7J6F64uI64ukLicpXHJcblxyXG4gIGNvbnN0IGl0ZW0gPSBhd2FpdCBNYWxsSXRlbSgpLmNyZWF0ZSh7IG5hbWUsIHByaWNlLCBkZXNjcmlwdGlvbiB9KVxyXG5cclxuICBjb25zdCBpdGVtSWQgPSBpdGVtLmlkXHJcblxyXG4gIGxvZ2dlci5pbmZvKGBpdGVtSWQ6ICR7aXRlbUlkfWApXHJcblxyXG4gIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGF3YWl0IEl0ZW1DYXRlZ29yeSgpLmZpbmRPbmUoeyB3aGVyZTogeyBtYWxsSXRlbUlkOiBpdGVtSWQsIGNhdGVnb3J5SWQgfSB9KVxyXG5cclxuICBpZiAoIWl0ZW1DYXRlZ29yeSkge1xyXG4gICAgYXdhaXQgSXRlbUNhdGVnb3J5KCkuY3JlYXRlKHsgbWFsbEl0ZW1JZDogaXRlbUlkLCBjYXRlZ29yeUlkIH0pXHJcbiAgfVxyXG5cclxuICBpZiAoIWZpbGUpIHRocm93IG5ldyBCYWRSZXF1ZXN0KE5PX0RBVEEsICfsnbTrr7jsp4Ag7YyM7J287J20IOyXhuyKteuLiOuLpC4nKVxyXG5cclxuICBjb25zdCBmaWxlTmFtZSA9IGZpbGUuZmlsZW5hbWVcclxuXHJcbiAgYXdhaXQgaXRlbS51cGRhdGUoeyBpbWFnZTogZmlsZU5hbWUgfSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoSXRlbUxpc3QgKHBhcmFtOiB7Y2F0ZWdvcnlJZD86IG51bWJlciwgcGFnZT86IG51bWJlcn0pIHtcclxuICBjb25zdCB7IGNhdGVnb3J5SWQsIHBhZ2UgfSA9IHBhcmFtXHJcblxyXG4gIGNvbnN0IHdoZXJlOiBhbnkgPSB7fVxyXG5cclxuICBpZiAoY2F0ZWdvcnlJZCkgd2hlcmUuY2F0ZWdvcnlJZCA9IGNhdGVnb3J5SWRcclxuICBpZiAocGFnZSkge1xyXG4gICAgd2hlcmUub2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIDEwXHJcbiAgICB3aGVyZS5saW1pdCA9IDEwXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGNvdW50LCByb3dzIH0gPSBhd2FpdCBNYWxsSXRlbSgpLmZpbmRBbmRDb3VudEFsbCh7XHJcbiAgICBhdHRyaWJ1dGVzOiBbJ2lkJywgJ25hbWUnLCAncHJpY2UnLCAnZGVzY3JpcHRpb24nLCAnaW1hZ2UnXSxcclxuICAgIHdoZXJlLFxyXG4gICAgb3JkZXJCeTogW1snaWQnLCAnREVTQyddXSxcclxuICAgIGluY2x1ZGU6IHtcclxuICAgICAgbW9kZWw6IEl0ZW1DYXRlZ29yeSgpLFxyXG4gICAgICBhdHRyaWJ1dGVzOiBbJ2lkJ10sXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBtb2RlbDogQ2F0ZWdvcnkoKSxcclxuICAgICAgICBhdHRyaWJ1dGVzOiBbJ25hbWUnXSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSlcclxuXHJcbiAgY29uc3QgaXRlbXMgPSByb3dzLm1hcChyb3cgPT4ge1xyXG4gICAgcm93LmltYWdlID0gcm93LmltYWdlID8gYGh0dHBzOi8vYXBpLm15YmViZS5uZXQvdXBsb2Fkcy9pbWFnZXMvJHtyb3cuaW1hZ2V9YCA6IG51bGxcclxuICAgIHJldHVybiByb3dcclxuICB9KVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY291bnQsXHJcbiAgICBpdGVtcyxcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaENhdGVnb3J5TGlzdCAoKSB7XHJcbiAgcmV0dXJuIENhdGVnb3J5KCkuZmluZEFsbCh7XHJcbiAgICBhdHRyaWJ1dGVzOiBbJ2lkJywgJ25hbWUnXSxcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hJdGVtRGV0YWlsIChpZDogbnVtYmVyKSB7XHJcbiAgY29uc3QgaXRlbSA9IGF3YWl0IE1hbGxJdGVtKCkuZmluZE9uZSh7XHJcbiAgICB3aGVyZTogeyBpZCB9LFxyXG4gICAgaW5jbHVkZToge1xyXG4gICAgICBtb2RlbDogSXRlbUNhdGVnb3J5KCksXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFsnaWQnXSxcclxuICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgIG1vZGVsOiBDYXRlZ29yeSgpLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFsnbmFtZSddLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KVxyXG5cclxuICBpZiAoIWl0ZW0pIHRocm93IG5ldyBCYWRSZXF1ZXN0KE5PX0RBVEEsICfsobTsnqztlZjsp4Ag7JWK64qUIOyDge2SiOyeheuLiOuLpC4nKVxyXG5cclxuICBpdGVtLmltYWdlID0gaXRlbS5pbWFnZSA/IGBodHRwczovL2FwaS5teWJlYmUubmV0L3VwbG9hZHMvaW1hZ2VzLyR7aXRlbS5pbWFnZX1gIDogbnVsbFxyXG5cclxuICByZXR1cm4gaXRlbVxyXG59XHJcblxyXG5pbnRlcmZhY2UgbW9kaWZ5UGFyYW0ge1xyXG4gIGlkOiBudW1iZXJcclxuICBjYXRlZ29yeUlkOiBudW1iZXJcclxuICBuYW1lOiBzdHJpbmdcclxuICBwcmljZTogbnVtYmVyXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtb2RpZnlJdGVtIChwYXJhbTogbW9kaWZ5UGFyYW0pIHtcclxuICBjb25zdCB7IGlkIH0gPSBwYXJhbVxyXG5cclxuICBjb25zdCBpdGVtID0gYXdhaXQgTWFsbEl0ZW0oKS5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KVxyXG5cclxuICBpZiAoIWl0ZW0pIHRocm93IG5ldyBCYWRSZXF1ZXN0KE5PX0RBVEEsICfsobTsnqztlZjsp4Ag7JWK64qUIOyDge2SiOyeheuLiOuLpC4nKVxyXG5cclxuICBhd2FpdCBpdGVtLnVwZGF0ZSh7IC4uLnBhcmFtIH0pXHJcblxyXG4gIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGF3YWl0IEl0ZW1DYXRlZ29yeSgpLmZpbmRPbmUoeyB3aGVyZTogeyBtYWxsSXRlbUlkOiBpZCB9IH0pXHJcblxyXG4gIGF3YWl0IGl0ZW1DYXRlZ29yeS51cGRhdGUoeyBjYXRlZ29yeUlkOiBwYXJhbS5jYXRlZ29yeUlkIH0pXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBdUQ7QUFFdkQsTUFBTUEsTUFBTSxHQUFHLElBQUFDLGlCQUFTLEVBQUMsb0JB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