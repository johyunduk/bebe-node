"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.commonEnv = void 0;
exports.ensureMandatoryEnv = ensureMandatoryEnv;
const MANDATORY_ENV_LIST = [];
function ensureMandatoryEnv(mandatoryEnvList) {
  mandatoryEnvList.forEach(envName => {
    if (!process.env[envName]) {
      throw new Error(`Mandatory Environment Variable(${envName}) has not setup!`);
    }
  });
}
ensureMandatoryEnv(MANDATORY_ENV_LIST);
const {
  env
} = process;
const NODE_ENV = env.NODE_ENV || 'local';
const commonEnv = {
  NODE_ENV,
  API_VERSION: env.API_VERSION || 'api/v1',
  IS_DEV_ENV: NODE_ENV === 'local' || NODE_ENV === 'development',
  ALTER_TABLE: env.ALTER_TABLE || '',
  MY_NAME: env.MY_NAME,
  BEBE_DIARY_PORT: env.BEBE_DIARY_PORT,
  BEBE_DB_URL: env.BEBE_DB_URL,
  JWT_SECRET_KEY: env.JWT_SECRET_KEY,
  JWT_ACCESS_EXPIRES_IN: env.JWT_ACCESS_EXPIRES_IN,
  JWT_REFRESH_EXPIRES_IN: env.JWT_REFRESH_EXPIRES_IN,
  AWS_REGION: env.AWS_REGION,
  AWS_BUCKET: env.AWS_BUCKET
};
exports.commonEnv = commonEnv;
const dbNameFromUrl = (url, defalutVal) => url ? url.split('/').pop() : defalutVal;
commonEnv.BEBE_DB_NAME = dbNameFromUrl(commonEnv.BEBE_DB_NAME, 'bebe');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNQU5EQVRPUllfRU5WX0xJU1QiLCJlbnN1cmVNYW5kYXRvcnlFbnYiLCJtYW5kYXRvcnlFbnZMaXN0IiwiZm9yRWFjaCIsImVudk5hbWUiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJOT0RFX0VOViIsImNvbW1vbkVudiIsIkFQSV9WRVJTSU9OIiwiSVNfREVWX0VOViIsIkFMVEVSX1RBQkxFIiwiTVlfTkFNRSIsIkJFQkVfRElBUllfUE9SVCIsIkJFQkVfREJfVVJMIiwiSldUX1NFQ1JFVF9LRVkiLCJKV1RfQUNDRVNTX0VYUElSRVNfSU4iLCJKV1RfUkVGUkVTSF9FWFBJUkVTX0lOIiwiQVdTX1JFR0lPTiIsIkFXU19CVUNLRVQiLCJkYk5hbWVGcm9tVXJsIiwidXJsIiwiZGVmYWx1dFZhbCIsInNwbGl0IiwicG9wIiwiQkVCRV9EQl9OQU1FIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dsb2JhbC1jb21tb24vY29uc3RhbnRzL2Vudi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNQU5EQVRPUllfRU5WX0xJU1QgPSBbXVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTWFuZGF0b3J5RW52IChtYW5kYXRvcnlFbnZMaXN0KSB7XG4gIG1hbmRhdG9yeUVudkxpc3QuZm9yRWFjaCgoZW52TmFtZSkgPT4ge1xuICAgIGlmICghcHJvY2Vzcy5lbnZbZW52TmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWFuZGF0b3J5IEVudmlyb25tZW50IFZhcmlhYmxlKCR7ZW52TmFtZX0pIGhhcyBub3Qgc2V0dXAhYClcbiAgICB9XG4gIH0pXG59XG5cbmVuc3VyZU1hbmRhdG9yeUVudihNQU5EQVRPUllfRU5WX0xJU1QpXG5cbmNvbnN0IHsgZW52IH0gPSBwcm9jZXNzXG5jb25zdCBOT0RFX0VOViA9IGVudi5OT0RFX0VOViB8fCAnbG9jYWwnXG5leHBvcnQgY29uc3QgY29tbW9uRW52OiBhbnkgPSB7XG4gIE5PREVfRU5WLFxuICBBUElfVkVSU0lPTjogZW52LkFQSV9WRVJTSU9OIHx8ICdhcGkvdjEnLFxuICBJU19ERVZfRU5WOiBOT0RFX0VOViA9PT0gJ2xvY2FsJyB8fCBOT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyxcblxuICBBTFRFUl9UQUJMRTogZW52LkFMVEVSX1RBQkxFIHx8ICcnLFxuICBNWV9OQU1FOiBlbnYuTVlfTkFNRSxcblxuICBCRUJFX0RJQVJZX1BPUlQ6IGVudi5CRUJFX0RJQVJZX1BPUlQsXG5cbiAgQkVCRV9EQl9VUkw6IGVudi5CRUJFX0RCX1VSTCxcblxuICBKV1RfU0VDUkVUX0tFWTogZW52LkpXVF9TRUNSRVRfS0VZLFxuICBKV1RfQUNDRVNTX0VYUElSRVNfSU46IGVudi5KV1RfQUNDRVNTX0VYUElSRVNfSU4sXG4gIEpXVF9SRUZSRVNIX0VYUElSRVNfSU46IGVudi5KV1RfUkVGUkVTSF9FWFBJUkVTX0lOLFxuXG4gIEFXU19SRUdJT046IGVudi5BV1NfUkVHSU9OLFxuICBBV1NfQlVDS0VUOiBlbnYuQVdTX0JVQ0tFVCxcbn1cblxuY29uc3QgZGJOYW1lRnJvbVVybCA9ICh1cmwsIGRlZmFsdXRWYWwpID0+ICh1cmwgPyB1cmwuc3BsaXQoJy8nKS5wb3AoKSA6IGRlZmFsdXRWYWwpXG5jb21tb25FbnYuQkVCRV9EQl9OQU1FID0gZGJOYW1lRnJvbVVybChjb21tb25FbnYuQkVCRV9EQl9OQU1FLCAnYmViZScpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxrQkFBa0IsR0FBRyxFQUFFO0FBRXRCLFNBQVNDLGtCQUFrQixDQUFFQyxnQkFBZ0IsRUFBRTtFQUNwREEsZ0JBQWdCLENBQUNDLE9BQU8sQ0FBRUMsT0FBTyxJQUFLO0lBQ3BDLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE9BQU8sQ0FBQyxFQUFFO01BQ3pCLE1BQU0sSUFBSUcsS0FBSyxDQUFFLGtDQUFpQ0gsT0FBUSxrQkFBaUIsQ0FBQztJQUM5RTtFQUNGLENBQUMsQ0FBQztBQUNKO0FBRUFILGtCQUFrQixDQUFDRCxrQkFBa0IsQ0FBQztBQUV0QyxNQUFNO0VBQUVNO0FBQUksQ0FBQyxHQUFHRCxPQUFPO0FBQ3ZCLE1BQU1HLFFBQVEsR0FBR0YsR0FBRyxDQUFDRSxRQUFRLElBQUksT0FBTztBQUNqQyxNQUFNQyxTQUFjLEdBQUc7RUFDNUJELFFBQVE7RUFDUkUsV0FBVyxFQUFFSixHQUFHLENBQUNJLFdBQVcsSUFBSSxRQUFRO0VBQ3hDQyxVQUFVLEVBQUVILFFBQVEsS0FBSyxPQUFPLElBQUlBLFFBQVEsS0FBSyxhQUFhO0VBRTlESSxXQUFXLEVBQUVOLEdBQUcsQ0FBQ00sV0FBVyxJQUFJLEVBQUU7RUFDbENDLE9BQU8sRUFBRVAsR0FBRyxDQUFDTyxPQUFPO0VBRXBCQyxlQUFlLEVBQUVSLEdBQUcsQ0FBQ1EsZUFBZTtFQUVwQ0MsV0FBVyxFQUFFVCxHQUFHLENBQUNTLFdBQVc7RUFFNUJDLGNBQWMsRUFBRVYsR0FBRyxDQUFDVSxjQUFjO0VBQ2xDQyxxQkFBcUIsRUFBRVgsR0FBRyxDQUFDVyxxQkFBcUI7RUFDaERDLHNCQUFzQixFQUFFWixHQUFHLENBQUNZLHNCQUFzQjtFQUVsREMsVUFBVSxFQUFFYixHQUFHLENBQUNhLFVBQVU7RUFDMUJDLFVBQVUsRUFBRWQsR0FBRyxDQUFDYztBQUNsQixDQUFDO0FBQUE7QUFFRCxNQUFNQyxhQUFhLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxVQUFVLEtBQU1ELEdBQUcsR0FBR0EsR0FBRyxDQUFDRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsRUFBRSxHQUFHRixVQUFXO0FBQ3BGZCxTQUFTLENBQUNpQixZQUFZLEdBQUdMLGFBQWEsQ0FBQ1osU0FBUyxDQUFDaUIsWUFBWSxFQUFFLE1BQU0sQ0FBQyJ9